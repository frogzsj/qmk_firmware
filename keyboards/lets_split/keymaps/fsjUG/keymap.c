#include "lets_split.h"
#include "rekeymap.h"
#include "action_layer.h"
#include "eeconfig.h"

extern keymap_config_t keymap_config;

// Layers
#define _BASE           0
#define _NORMAN         1
#define _DVORAK         2
#define _COLEMAK        3
#define _NPNUMS         4
#define _NPSYMB         5
#define _ARROWS         6
#define _MOUSE          7
#define _SYMBOLS        8
#define _ADJUST         9

enum custom_keycodes {
  BASE = SAFE_RANGE,
  NORMAN, DVORAK, COLEMAK,
  NPNUMS, NPSYMB,
  ARROWS, MOUSE,
  SYMBOLS,
  ADJUST,
}; 

#define DQWERTY         DF(_BASE)
#define DNORMAN         DF(_NORMAN)
#define DDVORAK         DF(_DVORAK)
#define DCLMAK          DF(_COLEMAK)


#define ____            KC_TRNS
#define XXXX            KC_TRNS // "taken"

// Combos
#define RFRESH          LGUI(LSFT(KC_R))      // Hard refresh
#define SWITCH          LGUI(KC_GRV)
#define UNDO            LGUI(KC_Z)
#define COPY            LGUI(KC_C)
#define CUT             LGUI(KC_X)
#define PASTE           LGUI(KC_V)
#define FINDER          LGUI(LALT(KC_SPC))

// Layer Toggles
#define TADJUST         MO(_ADJUST)
#define TSYMBOL         MO(_SYMBOLS)
#define TMOUSE          MO(_MOUSE)
#define TARROW          LT(_ARROWS, KC_SPACE)
#define TNPSYMB         MO(_NPSYMB)
#define TNPNUMS         LT(_NPNUMS, KC_DELETE)    

// Tap/Hold
#define GUI_BS          GUI_T(KC_BSPACE)
#define CTL_ENT         CTL_T(KC_ENTER)
#define ALT_A           ALT_T(KC_A)


const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

[_BASE] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
      KC_TAB ,  KC_Q  ,  KC_W  ,  KC_E  ,  KC_R  ,  KC_T  ,          KC_Y  ,  KC_U  ,  KC_I  ,  KC_O  ,  KC_P  , KC_BSLS,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      KC_ESC , ALT_A  ,  KC_S  ,  KC_D  ,  KC_F  ,  KC_G  ,          KC_H  ,  KC_J  ,  KC_K  ,  KC_L  , KC_SCLN, KC_QUOT,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------| 
     KC_LSFT ,  KC_Z  ,  KC_X  ,  KC_C  ,  KC_V  ,  KC_B  ,          KC_N  ,  KC_M  , KC_COMM, KC_DOT , KC_SLSH, KC_LSFT,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      RFRESH , TADJUST, SWITCH , TSYMBOL, GUI_BS , TNPNUMS,         CTL_ENT, TARROW ,  UNDO  ,  CUT   ,  COPY  ,  PASTE  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_NORMAN] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
      KC_TAB ,  KC_Q  ,  KC_W  ,  KC_D  ,  KC_F  ,  KC_K  ,          KC_J  ,  KC_U  ,  KC_R  ,  KC_L  , KC_SCLN, KC_BSLS,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      KC_ESC , ALT_A  ,  KC_S  ,  KC_E  ,  KC_T  ,  KC_G  ,          KC_Y  ,  KC_N  ,  KC_I  ,  KC_O  ,  KC_H  , KC_QUOT,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------| 
     KC_LSFT ,  KC_Z  ,  KC_X  ,  KC_C  ,  KC_V  ,  KC_B  ,          KC_P  ,  KC_M  , KC_COMM, KC_DOT , KC_SLSH, KC_LSFT,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      RFRESH , TADJUST, SWITCH , TSYMBOL, GUI_BS , TNPNUMS,         CTL_ENT, TARROW ,  UNDO  ,  CUT   ,  COPY  ,  PASTE  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_DVORAK] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
      KC_TAB , KC_QUOT, KC_COMM, KC_DOT ,  KC_P  ,  KC_Y  ,          KC_F  ,  KC_G  ,  KC_C  ,  KC_R ,  KC_L  , KC_BSLS,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      KC_ESC , ALT_A  ,  KC_O  ,  KC_E  ,  KC_U  ,  KC_I  ,          KC_D  ,  KC_H  ,  KC_T  ,  KC_N  , KC_S   , KC_SLSH,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------| 
     KC_LSFT , KC_SCLN,  KC_Q  ,  KC_J  ,  KC_K  ,  KC_X  ,          KC_B  ,  KC_M  ,  KC_W  , KC_V   , KC_Z   , KC_LSFT,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      RFRESH , TADJUST, SWITCH , TSYMBOL, GUI_BS , TNPNUMS,         CTL_ENT, TARROW ,  UNDO  ,  CUT   ,  COPY  ,  PASTE  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_COLEMAK] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
      KC_TAB ,  KC_Q  ,  KC_W  ,  KC_F  ,  KC_P  ,  KC_G  ,          KC_J  ,  KC_L  ,  KC_U  ,  KC_Y  , KC_SCLN, KC_BSLS,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      KC_ESC , ALT_A  ,  KC_R  ,  KC_S  ,  KC_T  ,  KC_D  ,          KC_H  ,  KC_N  ,  KC_E  ,  KC_I  , KC_O   , KC_QUOT,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------| 
     KC_LSFT ,  KC_Z  ,  KC_X  ,  KC_C  ,  KC_V  ,  KC_B  ,          KC_K  ,  KC_M  , KC_COMM, KC_DOT , KC_SLSH, KC_LSFT,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      RFRESH , TADJUST, SWITCH , TSYMBOL, GUI_BS , TNPNUMS,         CTL_ENT, TARROW ,  UNDO  ,  CUT   ,  COPY  ,  PASTE  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_NPNUMS] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,         KC_PLUS,  KC_P7 ,  KC_P8 ,  KC_P9 ,  ____  ,  ____  ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  , TNPSYMB,  ____  ,         KC_EQL ,  KC_P4 ,  KC_P5 ,  KC_P6 ,  ____  , KC_GRV ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,         KC_MINS,  KC_P1 ,  KC_P2 ,  KC_P3 ,  ____  ,  ____  ,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  XXXX  ,          KC_ENT,  KC_P0 , KC_PCMM, KC_PDOT,  ____  ,  ____  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_NPSYMB] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,         KC_PLUS, KC_AMPR, KC_ASTR,  ____  ,  ____  ,  ____  ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  XXXX  ,  ____  ,         KC_EQL , KC_DLR , KC_PERC, KC_CIRC,  ____  , KC_GRV ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,         KC_MINS, KC_EXLM,  KC_AT , KC_HASH,  ____  ,  ____  ,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  XXXX  ,         KC_ENT ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_ARROWS] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
      KC_HOME, KC_PGUP, KC_UP  , KC_PGDN,  ____  , KC_MRWD,          ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      KC_END , KC_LEFT, KC_DOWN, KC_RGHT, KC_VOLU, KC_MPLY,          ____  , TMOUSE ,  ____  ,  ____  ,  ____  ,  ____  ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      FINDER , KC_F14 , KC_F15 , KC_MUTE, KC_VOLD, KC_MFFD,          ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,          ____  ,  XXXX  ,  ____  ,  ____  ,  ____  ,  ____  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_MOUSE] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
       ____  , KC_WH_U, KC_MS_U, KC_WH_D,  ____  ,  ____  ,          ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
      KC_WH_L, KC_MS_L, KC_MS_D, KC_MS_R,  ____  ,  ____  ,          ____  ,  XXXX  ,  ____  ,  ____  ,  ____  ,  ____  ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  , KC_ACL0, KC_ACL1, KC_ACL2,  ____  ,  ____  ,          ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  , KC_BTN2, KC_BTN1,          ____  ,  XXXX  ,  ____  ,  ____  ,  ____  ,  ____  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_SYMBOLS] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,         KC_PLUS, KC_LBRC, KC_RBRC, KC_LCBR, KC_RCBR, KC_PIPE,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,         KC_EQL , KC_LPRN, KC_RPRN, KC_LABK, KC_RABK, KC_GRV ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,         KC_MINS, KC_UNDS,  ____  ,  ____  ,  ____  , KC_TILD,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  XXXX  ,  ____  ,  ____  ,          ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),

[_ADJUST] = KEYMAP( \
//  ,--------+--------+--------+--------+--------+--------.       ,--------+--------+--------+--------+--------+--------.
      KC_SLEP,  ____  ,  ____  ,  ____  ,  ____  ,  RESET ,          ____  , RGB_TOG, RGB_HUI, RGB_SAI, RGB_VAI,  ____  ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,          ____  , RGB_MOD, RGB_HUD, RGB_SAD, RGB_VAD,  ____  ,
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,          ____  , DQWERTY, DNORMAN, DDVORAK, DCLMAK ,  ____  ,        
//  |--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------|
       ____  ,  XXXX  ,  ____  ,  ____  ,  ____  ,  ____  ,          ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  
//  `--------+--------+--------+--------+--------+--------'       `--------+--------+--------+--------+--------+--------'
),
};
